{"last_node_id":112,"last_link_id":100,"nodes":[{"id":12,"type":"GroundingDinoSAMSegment (segment anything)","pos":[-960.7684936523438,1091.8934326171875],"size":[352.79998779296875,122],"flags":{},"order":10,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":11,"localized_name":"sam_model"},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":12,"slot_index":1,"localized_name":"grounding_dino_model"},{"name":"image","type":"IMAGE","link":81,"slot_index":2,"localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":[14],"slot_index":1,"shape":3,"localized_name":"MASK"}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["man",0.3]},{"id":14,"type":"MaskToImage","pos":[-560.79443359375,1141.236572265625],"size":[346.47723388671875,42.05613327026367],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":14,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[16],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":13,"type":"GroundingDinoModelLoader (segment anything)","pos":[-969.3567504882812,1031.65771484375],"size":[361.20001220703125,58],"flags":{"collapsed":true},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[12],"shape":3,"localized_name":"GROUNDING_DINO_MODEL"}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinT_OGC (694MB)"]},{"id":55,"type":"LayerMask: SegmentAnythingUltra","pos":[-928.2218017578125,1605.3916015625],"size":[336,270],"flags":{"collapsed":false},"order":11,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":82,"localized_name":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"shape":3,"localized_name":"image"},{"name":"mask","type":"MASK","links":[40],"slot_index":1,"shape":3,"localized_name":"mask"}],"properties":{"Node name for S&R":"LayerMask: SegmentAnythingUltra"},"widgets_values":["sam_vit_h (2.56GB)","GroundingDINO_SwinT_OGC (694MB)",0.3,16,0.15,0.99,false,"subject",false],"color":"rgba(27, 80, 119, 0.7)"},{"id":94,"type":"Reroute","pos":[-1316.37158203125,1270.92919921875],"size":[75,26],"flags":{},"order":6,"mode":0,"inputs":[{"name":"","type":"*","link":79}],"outputs":[{"name":"","type":"IMAGE","links":[80,81],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":93,"type":"Reroute","pos":[-1307.288818359375,843.1448974609375],"size":[75,26],"flags":{},"order":5,"mode":0,"inputs":[{"name":"","type":"*","link":76}],"outputs":[{"name":"","type":"IMAGE","links":[77],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":95,"type":"Reroute","pos":[-1277.6512451171875,2026.6268310546875],"size":[75,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":83}],"outputs":[{"name":"","type":"IMAGE","links":[82,84],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":11,"type":"SAMModelLoader (segment anything)","pos":[-972.4275512695312,988.1262817382812],"size":[366.178955078125,63.017547607421875],"flags":{"collapsed":true},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[11],"slot_index":0,"shape":3,"localized_name":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_hq_vit_h (2.57GB)"]},{"id":20,"type":"LoadImage","pos":[-2264.513916015625,1222.5540771484375],"size":[698.0335083007812,715.0966186523438],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[76,79,83],"slot_index":0,"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["girlinthestreet.jpg","image"]},{"id":2,"type":"VHS_LoadVideo","pos":[-2302.009521484375,2105.139404296875],"size":[712.8566284179688,1430.760986328125],"flags":{},"order":3,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null,"slot_index":0,"shape":7,"localized_name":"meta_batch"},{"name":"vae","type":"VAE","link":null,"shape":7,"localized_name":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[46],"slot_index":0,"shape":3,"localized_name":"IMAGE"},{"name":"frame_count","type":"INT","links":null,"slot_index":1,"shape":3,"localized_name":"frame_count"},{"name":"audio","type":"AUDIO","links":[],"slot_index":2,"shape":3,"localized_name":"audio"},{"name":"video_info","type":"VHS_VIDEOINFO","links":null,"localized_name":"video_info"}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"Demo_Video_V1.mp4","force_rate":25,"force_size":"?x512","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":0,"skip_first_frames":0,"force_rate":25,"filename":"Demo_Video_V1.mp4","type":"input","format":"video/mp4","select_every_nth":1,"force_size":"?x512"}}}},{"id":43,"type":"ImpactImageBatchToImageList","pos":[-881.7890625,2472.579345703125],"size":[210,26],"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":46,"localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[47],"slot_index":0,"shape":6,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImpactImageBatchToImageList"},"widgets_values":[]},{"id":33,"type":"LayerMask: RemBgUltra","pos":[-881.6529541015625,2543.729248046875],"size":[315,150],"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":47,"localized_name":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[66],"slot_index":0,"shape":3,"localized_name":"image"},{"name":"mask","type":"MASK","links":[49,62],"slot_index":1,"shape":3,"localized_name":"mask"}],"properties":{"Node name for S&R":"LayerMask: RemBgUltra"},"widgets_values":[8,0.01,0.99,true],"color":"rgba(27, 80, 119, 0.7)"},{"id":16,"type":"AlphaMatte","pos":[-949.8884887695312,1286.9251708984375],"size":[300,194],"flags":{},"order":19,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":80,"slot_index":0,"localized_name":"images"},{"name":"alpha_trimap","type":"IMAGE","link":16,"localized_name":"alpha_trimap"}],"outputs":[{"name":"alpha","type":"IMAGE","links":[91],"slot_index":0,"shape":3,"localized_name":"alpha"},{"name":"fg","type":"IMAGE","links":[90],"slot_index":1,"shape":3,"localized_name":"fg"},{"name":"bg","type":"IMAGE","links":[89],"slot_index":2,"shape":3,"localized_name":"bg"}],"properties":{"Node name for S&R":"AlphaMatte"},"widgets_values":[25,0.01,0.99,1000,"true"]},{"id":31,"type":"RMBG","pos":[-961.1447143554688,528.0133056640625],"size":[315,246],"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":77,"localized_name":"image"}],"outputs":[{"name":"image","type":"IMAGE","links":[93],"slot_index":0,"localized_name":"image"},{"name":"mask","type":"MASK","links":[35],"slot_index":1,"localized_name":"mask"}],"properties":{"Node name for S&R":"RMBG"},"widgets_values":["RMBG-2.0",1,1024,0,0,"Alpha",false,"default"]},{"id":35,"type":"MaskToImage","pos":[-612.6627197265625,656.7035522460938],"size":[264.5999755859375,26],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":35,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[94],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":41,"type":"LayerMask: MaskEdgeUltraDetail V2","pos":[-886.266845703125,1954.151611328125],"size":[315,294],"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":84,"localized_name":"image"},{"name":"mask","type":"MASK","link":40,"localized_name":"mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[43,96],"slot_index":0,"shape":3,"localized_name":"image"},{"name":"mask","type":"MASK","links":[42,97],"slot_index":1,"shape":3,"localized_name":"mask"}],"properties":{"Node name for S&R":"LayerMask: MaskEdgeUltraDetail V2"},"widgets_values":["VITMatte",0,0,0.75,50,20,0.01,0.99,"cuda",2],"color":"rgba(27, 80, 119, 0.7)"},{"id":109,"type":"MaskToImage","pos":[-486.7721862792969,2011.78271484375],"size":[264.5999755859375,26],"flags":{"collapsed":true},"order":22,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":97,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[98],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":42,"type":"LayerMask: MaskPreview","pos":[-511.90948486328125,2092.996826171875],"size":[335.1966247558594,341.9917297363281],"flags":{"collapsed":true},"order":21,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":42,"slot_index":0,"localized_name":"mask"}],"outputs":[],"properties":{"Node name for S&R":"LayerMask: MaskPreview"},"widgets_values":[],"color":"rgba(27, 80, 119, 0.7)"},{"id":49,"type":"PreviewImage","pos":[-406.5339660644531,1652.9378662109375],"size":[320.3943176269531,325.96466064453125],"flags":{"collapsed":true},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":43,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":79,"type":"InvertMask","pos":[-510.0509033203125,2612.35693359375],"size":[214.01405334472656,34.0280647277832],"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":49,"localized_name":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[88],"slot_index":0,"shape":3,"localized_name":"MASK"}],"properties":{"Node name for S&R":"InvertMask"},"widgets_values":[]},{"id":52,"type":"MaskToImage","pos":[-526.1253662109375,2661.81689453125],"size":[210,26],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":62,"localized_name":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[61],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":53,"type":"PreviewImage","pos":[-860.191650390625,2777.927978515625],"size":[542.6349487304688,444.37493896484375],"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":61,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":84,"type":"PreviewImage","pos":[-293.5133361816406,2761.537353515625],"size":[463.3404846191406,511.8692932128906],"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":53,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":82,"type":"JoinImageWithAlpha","pos":[-221.33700561523438,2554.666748046875],"size":[210,46],"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":66,"localized_name":"image"},{"name":"alpha","type":"MASK","link":88,"localized_name":"alpha"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[53,55],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"JoinImageWithAlpha"},"widgets_values":[]},{"id":62,"type":"ImageListToImageBatch","pos":[45.009246826171875,2582.14013671875],"size":[212.00698852539062,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":55,"slot_index":0,"localized_name":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[65],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"ImageListToImageBatch"},"widgets_values":[]},{"id":85,"type":"VHS_VideoCombine","pos":[349.4508361816406,2536.712158203125],"size":[395.45477294921875,884.3449096679688],"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":65,"shape":7,"localized_name":"images"},{"name":"audio","type":"AUDIO","link":null,"shape":7,"localized_name":"audio"},{"name":"meta_batch","type":"VHS_BatchManager","link":null,"shape":7,"localized_name":"meta_batch"},{"name":"vae","type":"VAE","link":null,"shape":7,"localized_name":"vae"}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3,"localized_name":"Filenames"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":25,"loop_count":0,"filename_prefix":"","format":"video/16bit-png","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"._00007.%03d.png","subfolder":"","type":"output","format":"video/16bit-png","frame_rate":25,"workflow":"._00007.png","fullpath":"F:\\ComfyUI\\venv_02\\ComfyUI\\output\\._00007.%03d.png"}}}},{"id":107,"type":"LayerUtility: ImageReel","pos":[-283.6499328613281,615.7735595703125],"size":[315,238],"flags":{},"order":18,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":93,"localized_name":"image1"},{"name":"image2","type":"IMAGE","link":94,"shape":7,"localized_name":"image2"},{"name":"image3","type":"IMAGE","link":null,"shape":7,"localized_name":"image3"},{"name":"image4","type":"IMAGE","link":null,"shape":7,"localized_name":"image4"}],"outputs":[{"name":"reel","type":"Reel","links":[95],"slot_index":0,"localized_name":"reel"}],"properties":{"Node name for S&R":"LayerUtility: ImageReel"},"widgets_values":["M1:FG","M1:Alpha","image3","image4",512,32],"color":"rgba(38, 73, 116, 0.7)"},{"id":105,"type":"LayerUtility: ImageReel","pos":[-269.3923645019531,1218.1717529296875],"size":[315,238],"flags":{},"order":25,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":89,"localized_name":"image1"},{"name":"image2","type":"IMAGE","link":90,"shape":7,"localized_name":"image2"},{"name":"image3","type":"IMAGE","link":91,"shape":7,"localized_name":"image3"},{"name":"image4","type":"IMAGE","link":null,"shape":7,"localized_name":"image4"}],"outputs":[{"name":"reel","type":"Reel","links":[92],"slot_index":0,"localized_name":"reel"}],"properties":{"Node name for S&R":"LayerUtility: ImageReel"},"widgets_values":["M2:BG","M2:FG","M2:Alpha","image4",512,32],"color":"rgba(38, 73, 116, 0.7)"},{"id":106,"type":"LayerUtility: ImageReelComposit","pos":[344.8818359375,1146.255126953125],"size":[415.8000183105469,190],"flags":{},"order":29,"mode":0,"inputs":[{"name":"reel_1","type":"Reel","link":95,"localized_name":"reel_1"},{"name":"reel_2","type":"Reel","link":92,"shape":7,"localized_name":"reel_2"},{"name":"reel_3","type":"Reel","link":99,"shape":7,"localized_name":"reel_3"},{"name":"reel_4","type":"Reel","link":null,"shape":7,"localized_name":"reel_4"}],"outputs":[{"name":"image1","type":"IMAGE","links":[100],"slot_index":0,"localized_name":"image1"}],"properties":{"Node name for S&R":"LayerUtility: ImageReelComposit"},"widgets_values":["Alibaba-PuHuiTi-Heavy.ttf",40,32,"light"],"color":"rgba(38, 73, 116, 0.7)"},{"id":108,"type":"LayerUtility: ImageReel","pos":[-226.8070831298828,1726.489013671875],"size":[315,238],"flags":{},"order":26,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":96,"localized_name":"image1"},{"name":"image2","type":"IMAGE","link":98,"shape":7,"localized_name":"image2"},{"name":"image3","type":"IMAGE","link":null,"shape":7,"localized_name":"image3"},{"name":"image4","type":"IMAGE","link":null,"shape":7,"localized_name":"image4"}],"outputs":[{"name":"reel","type":"Reel","links":[99],"slot_index":0,"localized_name":"reel"}],"properties":{"Node name for S&R":"LayerUtility: ImageReel"},"widgets_values":["M3:FG","M3:Alpha","image3","image4",512,32],"color":"rgba(38, 73, 116, 0.7)"},{"id":112,"type":"Note","pos":[980.2671508789062,460.7031555175781],"size":[468.39837646484375,121.6321792602539],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Extract images by differnt AI methods"],"color":"#432","bgcolor":"#653"},{"id":110,"type":"PreviewImage","pos":[861.2439575195312,628.8232421875],"size":[981.8395385742188,1529.979736328125],"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":100,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]}],"links":[[11,11,0,12,0,"SAM_MODEL"],[12,13,0,12,1,"GROUNDING_DINO_MODEL"],[14,12,1,14,0,"MASK"],[16,14,0,16,1,"IMAGE"],[35,31,1,35,0,"MASK"],[40,55,1,41,1,"MASK"],[42,41,1,42,0,"MASK"],[43,41,0,49,0,"IMAGE"],[46,2,0,43,0,"IMAGE"],[47,43,0,33,0,"IMAGE"],[49,33,1,79,0,"MASK"],[53,82,0,84,0,"IMAGE"],[55,82,0,62,0,"IMAGE"],[61,52,0,53,0,"IMAGE"],[62,33,1,52,0,"MASK"],[65,62,0,85,0,"IMAGE"],[66,33,0,82,0,"IMAGE"],[76,20,0,93,0,"*"],[77,93,0,31,0,"IMAGE"],[79,20,0,94,0,"*"],[80,94,0,16,0,"IMAGE"],[81,94,0,12,2,"IMAGE"],[82,95,0,55,0,"IMAGE"],[83,20,0,95,0,"*"],[84,95,0,41,0,"IMAGE"],[88,79,0,82,1,"MASK"],[89,16,2,105,0,"IMAGE"],[90,16,1,105,1,"IMAGE"],[91,16,0,105,2,"IMAGE"],[92,105,0,106,1,"Reel"],[93,31,0,107,0,"IMAGE"],[94,35,0,107,1,"IMAGE"],[95,107,0,106,0,"Reel"],[96,41,0,108,0,"IMAGE"],[97,41,1,109,0,"MASK"],[98,109,0,108,1,"IMAGE"],[99,108,0,106,2,"Reel"],[100,106,0,110,0,"IMAGE"]],"groups":[{"id":1,"title":"Method 2 - SegmentAnything","bounding":[-986.9581298828125,900.108154296875,1091.6719970703125,605.2669067382812],"color":"#b58b2a","font_size":24,"flags":{}},{"id":3,"title":"Method 1 - RMBG","bounding":[-982.9348754882812,394.9165954589844,1080.583251953125,474.89093017578125],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Method 3- VIT","bounding":[-982.3616943359375,1523.853271484375,1092.671630859375,750.9352416992188],"color":"#8AA","font_size":24,"flags":{}},{"id":6,"title":"Source Image","bounding":[-2274.513916015625,1148.9539794921875,718.0335083007812,798.6965942382812],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Video Background Removal","bounding":[-983.4117431640625,2318.929443359375,2054.7998046875,1235.3035888671875],"color":"#8A8","font_size":50,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.7247295000000236,"offset":[2480.0607673105483,-189.07351636951546]},"node_versions":{"comfyui_segment_anything":"ab6395596399d5048639cdab7e44ec9fae857a93","comfy-core":"unknown","ComfyUI_LayerStyle_Advance":"4991451b73c7f7030114ecce67f31d75aee8a155","comfyui-videohelpersuite":"c5216a51c0254372f61d94c365595d29040ff1f2","comfyui-impact-pack":"12e838a3209202f4fbe06f1af8607cb1417560f5","ComfyUI-Image-Filters":"0ff33fe29f7be072ad5d2cd89efa18fed82957fe","comfyui-rmbg":"13f83edf138c0ce983c28fd30eb6c61b7aa54522"},"ue_links":[]},"version":0.4}